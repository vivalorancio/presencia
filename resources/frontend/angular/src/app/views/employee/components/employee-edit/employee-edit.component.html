<div class="max-w-screen-xl m-5 mx-auto">
  <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">
    <div
      class="overflow-hidden border-t-4 shadow border-secondary-500 sm:rounded-md"
    >
      <div class="px-4 py-5 bg-white sm:p-6">
        <h2 class="pb-5 text-2xl font-medium leading-6 text-gray-900">
          Employee
        </h2>
        <div class="grid grid-cols-6 gap-6">
          <div class="col-span-6 sm:col-span-3">
            <label
              for="first_name"
              class="block text-sm font-medium text-gray-700"
              >First name</label
            >
            <input
              type="text"
              id="first_name"
              [formControlName]="'first_name'"
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 sm:text-sm"
            />
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(
                  employeeForm.get("first_name"),
                  "First Name"
                )
              }}
            </div>
          </div>
          <div class="col-span-6 sm:col-span-3">
            <label
              for="last_name"
              class="block text-sm font-medium text-gray-700"
              >Last name</label
            >
            <input
              type="text"
              id="last_name"
              [formControlName]="'last_name'"
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 sm:text-sm"
            />
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(
                  employeeForm.get("last_name"),
                  "Last name"
                )
              }}
            </div>
          </div>
          <div class="col-span-6 sm:col-span-2">
            <label for="code" class="block text-sm font-medium text-gray-700"
              >Code</label
            >
            <input
              type="text"
              id="code"
              [formControlName]="'code'"
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 sm:text-sm"
            />
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{ getControlErrorMessage(employeeForm.get("code"), "Code") }}
            </div>
          </div>
          <div class="col-span-6 sm:col-span-2">
            <label
              for="national_id"
              class="block text-sm font-medium text-gray-700"
              >ID Card</label
            >
            <input
              type="text"
              id="national_id"
              [formControlName]="'national_id'"
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 sm:text-sm"
            />
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(
                  employeeForm.get("national_id"),
                  "ID Card"
                )
              }}
            </div>
          </div>
          <div class="col-span-6 sm:col-span-2">
            <label for="email" class="block text-sm font-medium text-gray-700"
              >Email</label
            >
            <input
              type="email"
              id="email"
              [formControlName]="'email'"
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 sm:text-sm"
            />
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{ getControlErrorMessage(employeeForm.get("email"), "Email") }}
            </div>
          </div>
          <div class="col-span-6 sm:col-span-1">
            <label
              for="start_date"
              class="block text-sm font-medium text-gray-700"
              >Start Date</label
            >
            <input
              type="date"
              id="start_date"
              [formControlName]="'start_date'"
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 sm:text-sm"
            />
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(
                  employeeForm.get("start_date"),
                  "Start Date"
                )
              }}
            </div>
          </div>
          <div class="col-span-6 sm:col-span-1">
            <label
              for="end_date"
              class="block text-sm font-medium text-gray-700"
              >End Date</label
            >
            <input
              type="date"
              id="end_date"
              [formControlName]="'end_date'"
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 sm:text-sm"
            />
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(employeeForm.get("end_date"), "End Date")
              }}
            </div>
          </div>
          <div class="col-span-6 sm:col-span-2">
            <label for="shift" class="block text-sm font-medium text-gray-700"
              >Default Shift</label
            >
            <select
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm sm:text-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"
              [formControlName]="'shift_id'"
              id="shift_id"
            >
              <option label=" "></option>
              <option *ngFor="let shift of shifts.data" [ngValue]="shift.id">
                {{ shift.code }}
                - {{ shift.description }}
              </option>
            </select>
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(employeeForm.get("shift_id"), "Shift")
              }}
            </div>
          </div>
          <div class="col-span-6 sm:col-span-2">
            <label
              for="incidences_group"
              class="block text-sm font-medium text-gray-700"
              >Incidences Group</label
            >
            <select
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm sm:text-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"
              [formControlName]="'incidences_group_id'"
              id="incidences_group_id"
            >
              <option label=" "></option>
              <option
                *ngFor="let incidences_group of incidences_groups.data"
                [ngValue]="incidences_group.id"
              >
                {{ incidences_group.code }}
                - {{ incidences_group.description }}
              </option>
            </select>
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(
                  employeeForm.get("incidences_group_id"),
                  "Incidences Group"
                )
              }}
            </div>
          </div>
          <div class="col-span-6 sm:col-span-2">
            <label
              for="supervision_group"
              class="block text-sm font-medium text-gray-700"
              >Supervision Group</label
            >
            <select
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm sm:text-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"
              [formControlName]="'supervision_group_id'"
              id="supervision_group"
            >
              <option [value]="1">AAA - asdqwpoqwejw qeo</option>
              <option [value]="2">BBB - asdqwpoqwejw qeo</option>
              <option [value]="3">CCC - asdqwpoqwejw qeo</option>
              <option [value]="4">DDD - asdqwpoqwejw qeo</option>
              <option [value]="5">EEE - asdqwpoqwejw qeo</option>
              <!-- <option *ngFor="let supervision_group of supervision_groups" [value]="supervision_group.id">
            {{ supervision_group.name }}
          </option> -->
            </select>
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(
                  employeeForm.get("supervision_group_id"),
                  "Supervision Group"
                )
              }}
            </div>
          </div>

          <div class="col-span-6 sm:col-span-2">
            <label
              for="username"
              class="block text-sm font-medium text-gray-700"
              >Username</label
            >
            <input
              type="text"
              id="username"
              [formControlName]="'username'"
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm sm:text-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"
            />
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(employeeForm.get("username"), "Username")
              }}
            </div>
          </div>

          <div class="col-span-6 sm:col-span-2">
            <label
              for="password"
              class="block text-sm font-medium text-gray-700"
              >Password</label
            >
            <input
              type="password"
              id="password"
              [formControlName]="'password'"
              class="block w-full my-1 border-gray-300 rounded-md shadow-sm sm:text-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50"
            />
            <div
              class="text-sm font-medium text-red-500"
              *ngIf="employeeForm.invalid"
            >
              {{
                getControlErrorMessage(employeeForm.get("password"), "Password")
              }}
            </div>
          </div>

          <div class="col-span-6 sm:col-span-1">
            <div class="flex h-full space-x-2">
              <input
                class="self-center border-gray-300 rounded shadow-sm text-primary-600 focus:border-primary-300 focus:ring focus:ring-offset-0 focus:ring-primary-200 focus:ring-opacity-50"
                type="checkbox"
                id="is_admin"
                name="is_admin"
                [formControlName]="'is_admin'"
              />
              <label
                class="self-center block text-sm font-medium text-gray-700"
                for="is_admin"
              >
                Admin
              </label>
            </div>
          </div>
          <div class="col-span-6 sm:col-span-1">
            <div class="flex h-full space-x-2">
              <input
                class="self-center border-gray-300 rounded shadow-sm text-primary-600 focus:border-primary-300 focus:ring focus:ring-offset-0 focus:ring-primary-200 focus:ring-opacity-50"
                type="checkbox"
                id="is_blocked"
                name="is_blocked"
                [formControlName]="'is_blocked'"
              />
              <label
                class="self-center block text-sm font-medium text-gray-700"
                for="is_blocked"
              >
                Blocked
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="px-4 py-3 space-x-2 text-right bg-gray-50 sm:px-6">
        <button
          class="inline-flex justify-center px-4 py-2 text-sm font-medium border border-transparent rounded-md text-secondary-500 disabled:opacity-50 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary-600"
          type="button"
          [routerLink]="['/management/employees']"
          [disabled]="pending"
        >
          Cancel
        </button>
        <button
          class="inline-flex justify-center px-4 py-2 text-sm font-medium text-white border border-transparent rounded-md shadow-sm bg-secondary-500 disabled:opacity-70 hover:bg-secondary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-secondary-600"
          type="submit"
          [disabled]="!employeeForm.valid || pending"
        >
          Save
        </button>
      </div>
    </div>
  </form>
</div>
<div class="pending" *ngIf="pending">
  <!--<mat-spinner color="accent"></mat-spinner>-->> PENDING
</div>
