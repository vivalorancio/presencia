<h3 class="text-3xl my-4 font-bold">Shifts</h3>

<div class="my-4">
  <button
    class="disabled:opacity-50 group relative py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
    type="button"
    (click)="firstpage()"
    [disabled]="pending || shifts.meta?.current_page == 1"
  >
    &laquo;
  </button>
  <button
    class="disabled:opacity-50 group relative py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
    type="button"
    (click)="previouspage()"
    [disabled]="pending || shifts.meta?.current_page == 1"
  >
    &lt;
  </button>
  <button
    class="disabled:opacity-50 group relative py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
    type="button"
    (click)="nextpage()"
    [disabled]="pending || shifts.meta?.current_page == shifts.meta?.last_page"
  >
    &gt;
  </button>
  <button
    class="disabled:opacity-50 group relative py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
    type="button"
    (click)="lastpage()"
    [disabled]="pending || shifts.meta?.current_page == shifts.meta?.last_page"
  >
    &raquo;
  </button>
  &nbsp;
  <button
    class="disabled:opacity-50 group relative py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
    type="button"
    [routerLink]="['shift']"
    [disabled]="pending"
  >
    New Shift
  </button>
</div>

<table class="min-w-full divide-y divide-gray-200">
  <thead class="bg-gray-50">
    <tr>
      <th
        scope="col"
        class="px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Code
      </th>
      <th
        scope="col"
        class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Description
      </th>
      <th
        scope="col"
        class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Start Time
      </th>
      <th
        scope="col"
        class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        End Time
      </th>
      <th
        scope="col"
        class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Expected Time
      </th>
      <th
        scope="col"
        class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Recess Time
      </th>
      <th
        scope="col"
        class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
      >
        Holiday?
      </th>

      <th scope="col" class="relative px-6 py-3">
        <span class="sr-only">Actions</span>
      </th>
    </tr>
  </thead>
  <tbody class="bg-white divide-y divide-gray-200">
    <tr *ngFor="let shift of shifts.data">
      <td class="px-4 py-2 whitespace-nowrap">
        <div
          class="text-center text-xs font-medium {{ shift.colour }} {{
            getTextColourFromName(shift.colour)
          }} rounded-md py-1 px-2"
        >
          {{ shift.code }}
        </div>
      </td>
      <td class="px-4 py-2 whitespace-nowrap">
        <div class="text-sm font-medium text-gray-900">
          {{ shift.description }}
        </div>
      </td>

      <td class="px-4 py-2 whitespace-nowrap">
        <div class="text-sm font-medium text-gray-900">
          {{ shift.start_time }}
        </div>
      </td>
      <td class="px-4 py-2 whitespace-nowrap">
        <div class="text-sm font-medium text-gray-900">
          {{ shift.end_time }}
        </div>
      </td>
      <td class="px-4 py-2 whitespace-nowrap">
        <div class="text-sm font-medium text-gray-900">
          {{ shift.expected_time }}
        </div>
      </td>
      <td class="px-4 py-2 whitespace-nowrap">
        <div class="text-sm font-medium text-gray-900">
          {{ shift.recess_time }}
        </div>
      </td>
      <td class="px-4 py-2 whitespace-nowrap">
        <div class="text-sm font-medium text-gray-900">
          {{ shift.is_holiday }}
        </div>
      </td>
      <td class="space-x-2">
        <button
          class="disabled:opacity-50 group relative py-1 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
          type="button"
          [routerLink]="['shift', shift.id]"
          [disabled]="pending"
        >
          Edit
        </button>
        <button
          class="disabled:opacity-50 group relative py-1 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"
          type="button"
          (click)="deleteShift(shift.id)"
          [disabled]="pending"
        >
          Delete
        </button>
      </td>
    </tr>
  </tbody>
</table>

<div class="my-4">
  <button
    class="disabled:opacity-50 group relative py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
    type="button"
    (click)="firstpage()"
    [disabled]="pending || shifts.meta?.current_page == 1"
  >
    &laquo;
  </button>
  <button
    class="disabled:opacity-50 group relative py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
    type="button"
    (click)="previouspage()"
    [disabled]="pending || shifts.meta?.current_page == 1"
  >
    &lt;
  </button>
  <button
    class="disabled:opacity-50 group relative py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
    type="button"
    (click)="nextpage()"
    [disabled]="pending || shifts.meta?.current_page == shifts.meta?.last_page"
  >
    &gt;
  </button>
  <button
    class="disabled:opacity-50 group relative py-2 px-2 border border-transparent text-sm font-medium rounded-md text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"
    type="button"
    (click)="lastpage()"
    [disabled]="pending || shifts.meta?.current_page == shifts.meta?.last_page"
  >
    &raquo;
  </button>
</div>

<div class="pending" *ngIf="pending">SPINNER</div>
