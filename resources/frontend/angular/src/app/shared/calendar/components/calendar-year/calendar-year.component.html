<div *ngIf="showSelectionControls" class="flex flex-col py-4 2xl:flex-row">
  <div class="flex flex-col sm:flex-row sm:space-x-2 2xl:mr-16">
    <button
      type="button"
      class="inline-flex justify-center w-full px-4 py-2 mt-1 text-base font-medium text-white border border-transparent rounded-md shadow-sm disabled:opacity-70 bg-primary-500 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:w-auto sm:text-sm"
      (click)="clearAll()"
      [disabled]="pending || selection.length === 0"
    >
      Clear Selection
    </button>
    <button
      type="button"
      class="inline-flex justify-center w-full px-4 py-2 mt-1 text-base font-medium text-white border border-transparent rounded-md shadow-sm disabled:opacity-70 bg-primary-500 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:w-auto sm:text-sm"
      (click)="selectAll()"
      [disabled]="pending"
    >
      Select All
    </button>

    <button
      type="button"
      class="inline-flex justify-center w-full px-4 py-2 mt-1 text-base font-medium text-white border border-transparent rounded-md shadow-sm disabled:opacity-70 bg-primary-500 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:w-auto sm:text-sm"
      (click)="selectMoFr()"
      [disabled]="pending"
    >
      Mo-Fr
    </button>
    <button
      type="button"
      class="inline-flex justify-center w-full px-4 py-2 mt-1 text-base font-medium text-white border border-transparent rounded-md shadow-sm disabled:opacity-70 bg-primary-500 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:w-auto sm:text-sm"
      (click)="selectSaSu()"
      [disabled]="pending"
    >
      Sa-Su
    </button>
  </div>
  <form
    class="flex flex-col items-baseline mt-2 lg:space-x-2 lg:flex-row 2xl:mt-0"
    [formGroup]="rangeForm"
    (ngSubmit)="selectRange()"
  >
    <div class="flex flex-col w-full sm:max-w-max sm:space-x-2 sm:flex-row">
      <div class="flex items-baseline space-x-2">
        <label for="range_from" class="block text-sm font-medium text-gray-700"
          >From
        </label>
        <input
          type="date"
          id="range_from"
          min="{{ year.year + '-01-01' }}"
          max="{{
            rangeForm['controls']['range_to'].value
              ? rangeForm['controls']['range_to'].value
              : year.year + '-12-31'
          }}"
          [formControlName]="'range_from'"
          class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 sm:text-sm"
        />
      </div>
      <div class="flex items-baseline space-x-2">
        <label for="range_to" class="block text-sm font-medium text-gray-700"
          >To</label
        >
        <input
          type="date"
          id="range_to"
          min="{{
            rangeForm['controls']['range_from'].value
              ? rangeForm['controls']['range_from'].value
              : year.year + '-01-01'
          }}"
          max="{{ year.year + '-12-31' }}"
          [formControlName]="'range_to'"
          class="block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 sm:text-sm"
        />
      </div>
      <button
        type="submit"
        class="inline-flex justify-center w-full px-4 py-2 mt-1 text-base font-medium text-white border border-transparent rounded-md shadow-sm disabled:opacity-70 bg-primary-500 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:w-auto sm:text-sm"
        [disabled]="!rangeForm.valid || pending"
      >
        Select Range
      </button>
    </div>
    <div class="h-4">
      <p
        class="text-sm font-semibold text-red-500"
        *ngIf="rangeForm.touched && rangeForm.invalid"
      >
        Please add a valid from and to date
      </p>
    </div>
  </form>
</div>

<!-- Grid. 6,4,3,2,1 -->
<div class="flex place-content-center">
  <div class="grid grid-cols-12 gap-2">
    <div
      class="col-span-12 my-2 sm:col-span-6 md:col-span-4 lg:col-span-3 2xl:col-span-2"
      *ngFor="let month of year.months"
    >
      <app-calendar-month
        [year]="year"
        [month]="month"
        (daySelected)="selectDay($event)"
      ></app-calendar-month>
    </div>
  </div>
</div>
